name: Update htmx version

on:
  workflow_dispatch:

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: dump latest htmx version
        run: curl -L https://unpkg.com/htmx.org@latest -o cmd/template/advanced/files/htmx/htmx.min.js.tmpl
      - name: Prettify code
        uses: creyD/prettier_action@v4.3
        with:
          prettier_options: --write cmd/template/advanced/files/htmx/htmx.mini.js.tmpl
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          commit-message: update htmx version
          title: Update htmx
          body: Update changelog to reflect release changes
          branch: htmx-version-update
          base: readme-fix

# allow GitHub Actions to create pull requests Actions > General > Workflow permissions
